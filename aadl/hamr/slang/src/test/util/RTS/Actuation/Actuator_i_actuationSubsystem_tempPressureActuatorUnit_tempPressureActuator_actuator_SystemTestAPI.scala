// #Sireum

package RTS.Actuation

import org.sireum._
import art._
import RTS.SystemTestSuiteSlang.runtimeMonitorStream
import RTS._

// Do not edit this file as it will be overwritten if HAMR codegen is rerun

object Actuator_i_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator_SystemTestAPI {
  /** helper method to set the values of all incoming ports
    * @param api_input incoming data port
    * @param api_manualActuatorInput incoming data port
    */
  def put_concrete_inputs(api_input: Base_Types.Boolean,
                          api_manualActuatorInput: Base_Types.Boolean): Unit = {
    put_input(api_input)
    put_manualActuatorInput(api_manualActuatorInput)
  }

  // setter for incoming data port
  def put_input(value: Base_Types.Boolean): Unit = {
    Art.insertInInfrastructurePort(Arch.RTS_i_Instance_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator.operational_api.input_Id, Base_Types.Boolean_Payload(value))
  }

  // setter for incoming data port
  def put_manualActuatorInput(value: Base_Types.Boolean): Unit = {
    Art.insertInInfrastructurePort(Arch.RTS_i_Instance_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator.operational_api.manualActuatorInput_Id, Base_Types.Boolean_Payload(value))
  }

  def fetchContainer(): RTS.Actuation.Actuator_i_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator_PostState_Container_PS = {
    if (runtimeMonitorStream.contains(Arch.RTS_i_Instance_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator.id)) {
      val (_, postContainer_) = runtimeMonitorStream.get(Arch.RTS_i_Instance_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator.id).get
      return postContainer_.asInstanceOf[RTS.Actuation.Actuator_i_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator_PostState_Container_PS]
    }
    else {
      assert(F, s"No post state recorded for ${Arch.RTS_i_Instance_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator.name}")
      halt(s"No post state recorded for ${Arch.RTS_i_Instance_actuationSubsystem_tempPressureActuatorUnit_tempPressureActuator_actuator.name}")
    }
  }

  def check_concrete_outputs(api_output: Base_Types.Boolean): Unit = {
    var failureReasons: ISZ[ST] = ISZ()

    val actual_output = get_api_output()
    if (api_output != actual_output) {
      failureReasons = failureReasons :+ st"'output' did not match expected.  Expected: $api_output, Actual: $actual_output"
    }

    assert(failureReasons.isEmpty, st"${(failureReasons, "\n")}".render)
  }

  def get_api_output(): Base_Types.Boolean = {
    return fetchContainer().api_output
  }
}